<html>

<head>
    <title>Welcome to zenzone</title>
</head>
<style>
    body {
        display: grid;
        justify-content: center;
        align-items: center;
        background-color: palevioletred;
    }

    .zenzone_heading {
        display: grid;
        justify-content: center;
    }

    .login_inputs {
        display: grid;
        justify-content: center;
        gap: 10px;
    }

    .button1 {
        display: grid;
        justify-content: center;
        margin-top: 10px;
    }

    .innerbox {
        height: 40px;
        width: 200px;
        border-radius: 30px;
    }

    .login_button {
        border-radius: 20px;
    }

    .zenzone_content {
        color: yellow;
        font-style: italic;
        font-weight: 999;
        font-size: xx-large;
        text-shadow: -2px -2px 0 red, 2px -2px 0 red, -2px 2px 0 red, 2px 2px 0 red;
    }

    .create {
        margin-top: 10px;
    }
</style>

<body>
    <div class="entire_page">
        <div class="zenzone_heading">
            <h1 class="zenzone_content">Zenzone</h1>
        </div>

        <div class="login_inputs">
            <input id="loginUsername" class="innerbox" type="text" placeholder="&nbsp;Username">
            <input id="loginPassword" class="innerbox" type="password" placeholder="&nbsp;Password">
        </div>

        <div class="button1">
            <button class="login_button" onclick="attemptLogin()">Login</button>
            <a class="create" href="/Create_Account.html">Create Account</a>
        </div>
    </div>

    <script>
        function attemptLogin() {
            var username = document.getElementById("loginUsername").value;
            var password = document.getElementById("loginPassword").value;

            // Make an AJAX request to the server for login validation
            var xhr = new XMLHttpRequest();
            xhr.open("POST", "/login", true);
            xhr.setRequestHeader("Content-Type", "application/json");

            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4) {
                    if (xhr.status == 200) {
                        // If the server responds with success, show alert and redirect
                        alert("Login successful!");
                        window.location.href = "/zenzone.html";
                        
                    } else {
                        // If the server responds with failure, show alert
                        alert("Invalid username or password. Please try again.");
                    }
                }
            };

            // Send the request with username and password as JSON
            xhr.send(JSON.stringify({ username: username, password: password }));
        }
    </script>

</body>

</html>
